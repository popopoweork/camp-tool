{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useCallback, useState } from \"react\";\nexport default function UseMyEquipments() {\n  _s();\n  console.log('init use');\n  const [myEquipments, setMyEquipments] = useState();\n  const updateMyEquipments = useCallback(async () => {\n    console.log('real updateMyEquipments');\n    axios.get(\"https://api.github.com/repos/chinheki/camp-tool/issues/1/comments\", {\n      headers: {\n        Accept: \"application/vnd.github+json\",\n        Authorization: `Bearer ${process.env.REACT_APP_ISSUE_TOKEN}`,\n        \"X-GitHub-Api-Version\": \"2022-11-28\"\n      }\n    }).catch(e => {\n      alert(\"get good list error\");\n      console.log(e);\n    }).then(r => {\n      console.log(r);\n      const equipmentList = [];\n      r.data.map(comment => {\n        var _comment$body;\n        if (!!((_comment$body = comment.body) !== null && _comment$body !== void 0 && _comment$body.length)) {\n          const context = JSON.parse(comment.body);\n          context.id = `${comment.id}`;\n          equipmentList.push(context);\n        }\n      });\n      console.log(equipmentList);\n      setMyEquipments({\n        equipmentList\n      });\n    });\n  }, [setMyEquipments]);\n  return {\n    myEquipments,\n    updateMyEquipments\n  };\n}\n_s(UseMyEquipments, \"vadrhR17IqfhtcU9Hm+NuRGwQAM=\");\n_c = UseMyEquipments;\nvar _c;\n$RefreshReg$(_c, \"UseMyEquipments\");","map":{"version":3,"names":["axios","useCallback","useState","UseMyEquipments","_s","console","log","myEquipments","setMyEquipments","updateMyEquipments","get","headers","Accept","Authorization","process","env","REACT_APP_ISSUE_TOKEN","catch","e","alert","then","r","equipmentList","data","map","comment","_comment$body","body","length","context","JSON","parse","id","push","_c","$RefreshReg$"],"sources":["/Users/bytedance/projects/camp-tool/src/utils/use-my-equipments.ts"],"sourcesContent":["import axios from \"axios\";\nimport { useCallback, useState } from \"react\";\nimport { MyEquipments, Equipment } from './types';\n\n\nexport default function UseMyEquipments() {\n  console.log('init use')\n  const [myEquipments, setMyEquipments] = useState<MyEquipments>();\n\n  const updateMyEquipments = useCallback(async () => {\n    console.log('real updateMyEquipments')\n    axios\n      .get(\"https://api.github.com/repos/chinheki/camp-tool/issues/1/comments\", {\n        headers: {\n          Accept: \"application/vnd.github+json\",\n          Authorization: `Bearer ${process.env.REACT_APP_ISSUE_TOKEN}`,\n          \"X-GitHub-Api-Version\": \"2022-11-28\",\n        },\n      })\n      .catch((e) => {\n        alert(\"get good list error\");\n        console.log(e);\n      })\n      .then((r:any) => {\n        console.log(r);\n        const equipmentList:Equipment[]=[]\n        r.data.map((comment:any)=>{\n          if(!!comment.body?.length){\n            const context=JSON.parse(comment.body) as Equipment;\n            context.id=`${comment.id}`\n            equipmentList.push(context)\n          }\n        })\n        console.log(equipmentList)\n        setMyEquipments({ equipmentList });\n      });\n  },[setMyEquipments])\n\n  return {\n    myEquipments,\n    updateMyEquipments,\n  };\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAI7C,eAAe,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACxCC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;EACvB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGN,QAAQ,CAAe,CAAC;EAEhE,MAAMO,kBAAkB,GAAGR,WAAW,CAAC,YAAY;IACjDI,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACtCN,KAAK,CACFU,GAAG,CAAC,mEAAmE,EAAE;MACxEC,OAAO,EAAE;QACPC,MAAM,EAAE,6BAA6B;QACrCC,aAAa,EAAG,UAASC,OAAO,CAACC,GAAG,CAACC,qBAAsB,EAAC;QAC5D,sBAAsB,EAAE;MAC1B;IACF,CAAC,CAAC,CACDC,KAAK,CAAEC,CAAC,IAAK;MACZC,KAAK,CAAC,qBAAqB,CAAC;MAC5Bd,OAAO,CAACC,GAAG,CAACY,CAAC,CAAC;IAChB,CAAC,CAAC,CACDE,IAAI,CAAEC,CAAK,IAAK;MACfhB,OAAO,CAACC,GAAG,CAACe,CAAC,CAAC;MACd,MAAMC,aAAyB,GAAC,EAAE;MAClCD,CAAC,CAACE,IAAI,CAACC,GAAG,CAAEC,OAAW,IAAG;QAAA,IAAAC,aAAA;QACxB,IAAG,CAAC,GAAAA,aAAA,GAACD,OAAO,CAACE,IAAI,cAAAD,aAAA,eAAZA,aAAA,CAAcE,MAAM,GAAC;UACxB,MAAMC,OAAO,GAACC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACE,IAAI,CAAc;UACnDE,OAAO,CAACG,EAAE,GAAE,GAAEP,OAAO,CAACO,EAAG,EAAC;UAC1BV,aAAa,CAACW,IAAI,CAACJ,OAAO,CAAC;QAC7B;MACF,CAAC,CAAC;MACFxB,OAAO,CAACC,GAAG,CAACgB,aAAa,CAAC;MAC1Bd,eAAe,CAAC;QAAEc;MAAc,CAAC,CAAC;IACpC,CAAC,CAAC;EACN,CAAC,EAAC,CAACd,eAAe,CAAC,CAAC;EAEpB,OAAO;IACLD,YAAY;IACZE;EACF,CAAC;AACH;AAACL,EAAA,CArCuBD,eAAe;AAAA+B,EAAA,GAAf/B,eAAe;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}